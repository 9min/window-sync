<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>popup_2</title>
</head>
<body>
  <h1>popup_2</h1>
    <button type="button" id="btnSend">메인으로 데이터 보내기</button>
    <p id="message"></p>
  <script>
    window.onload = () => {
      const key = 'popup_2';
      const examplePopup = windowSync.popup({ key });
      examplePopup.send(`${key} 열림`);
      examplePopup.onReceive((data) =>
        document.querySelector('#message').innerHTML = JSON.stringify(data));
      document.querySelector('#btnSend').addEventListener('click', () =>
        examplePopup.send({ message: `${key} 메시지`, timestamp: +new Date() }))
    }
  </script>
</body>

</html>